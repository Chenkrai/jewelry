<%- include('layout.ejs'); %>

<div class="video-background">
    <video playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
        <source src="/assets/video2.mp4" type="video/mp4">
    </video>
</div>

<style>
    body {
        font-family: 'Georgia', serif;
        color: #555;
    }

    .video-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -1;
    }

    video {
        min-width: 100%;
        min-height: 100%;
        object-fit: cover;
    }

    section {
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .form-control {
        border-radius: 8px;
        border: 1px solid #ddd;
        box-shadow: none;
    }

    .btn {
        border-radius: 8px;
        background-color: #5a9;
        color: #fff;
    }
</style>

    <section class="col-sm-4 col-sm-offset-3" style="margin: auto;">
        <h1>
            <span class="fa fa-sign-in"/>
            Signup
        </h1>
        
        <% if ( message.length > 0 ) { %>
            <div class="alert alert-danger">
                <%= message %>
            </div>
        <% } %>
    
        <form action="/register" method="post" onsubmit="return validateCode( this.role ) ">
            <div class="form-group">
                <label>
                    Name
                </label>
                <input type="text" class="form-control" name="name" value="<%= name %>"/> 
            </div>        
            <div class="form-group">
                <label>
                    Email
                </label>
                <input type="text" class="form-control" name="email" value="<%= email %>"/>
            </div>
            <div class="form-group">
                <label>
                    Password
                </label>
                <input type="password" class="form-control" name="password" value="<%= password %>"/>
            </div>
            <div class="form-group">
                <label>
                    Role
                </label>
                <select class="form-control" name="role">
                    <option value="">Choose role</option>
                    <option value="director">Director</option>
                    <option value="seller">Seller</option>
                    <option value="client">Client</option>
                </select>            
            </div>

            <button type="submit" class="btn btn-warning btn-lg">Signup</button>
        </form>
        <hr>
        <p1>
            Already have an account? 
            <a href="/login">
                Login
            </a>
        </p1>       
    </section> 

</body>
</html>

<script>
    $(document).ready(function () {   
        $("#footer").hide()
    })

    function validateCode ( role ) 
    {
        if ( role.value == "client" )
        {
            return true
        }
        else if ( role.value == "seller" )
        {
            var code = prompt("Please enter your code", "rootSeller")
            if ( code != null ) {
                if ( code == "rootSeller" )
                {
                    return true
                }
                else
                {
                    return false
                }
            }
        }
        else if ( role.value == "director" )
        {
            var code = prompt("Please enter your code", "rootDirector")
            if ( code != null ) {
                if ( code == "rootDirector" )
                {
                    return true
                }
                else
                {
                    return false
                }
            }
        }      
    }
</script>